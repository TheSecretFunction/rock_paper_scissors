<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project: Rock, Paper, Scissors</title>
</head>
<body>
    <script>
        //1a. Make function getComputerChoice.
        function getComputerChoice() {
            const result = Math.floor(Math.random() * 9) + 1;

            //1b. Randomly return rock, paper, or scissors from computer.
            if (result >= 0 && result <= 3) {
                computerSelection = "rock";
                return computerSelection;
            }
            else if (result >= 4 && result <= 6) {
                computerSelection = "paper";
                return computerSelection;
            }
            else {
                computerSelection = "scissors";
                return computerSelection;
            }
        }

        //2a. Make function to play single round of parameters playerSelection and computerSelection.
        function singleRound(playerSelection, computerSelection) {
            //2b. Takes case-insensitive input.
            let playerChoice = playerSelection.toLowerCase();

            let outcome;

            if ((playerChoice == "rock") || (playerChoice == "paper") || (playerChoice == "scissors")) {
                //2c. Return string declaring winner or tie, i.e. "You Lose! Paper beats Rock".
                if (computerSelection == "rock") {
                    switch (playerChoice) {
                        case "rock": 
                            console.log('You Tied! Rock ties with Rock');
                            //playerScore++;
                            //computerScore++;
                            outcome = "tied";
                            return outcome;
                            break;
                        case "paper":
                            console.log('You Win! Paper beats Rock');
                            //playerScore++;
                            outcome = "win";
                            return outcome;
                            break;
                        case "scissors":
                            console.log('You Lose! Rock beats Scissors');
                            //computerScore++;
                            outcome = "lose";
                            return outcome;
                            break;
                        default: 
                            outcome = "invalid";
                            return outcome;
                            break;
                    }
                }
                else if (computerSelection == "paper") {
                    switch (playerChoice) {
                        case "rock": 
                            console.log('You Lose! Paper beats Rock');
                            outcome = "lose";
                            return outcome;
                            break;
                        case "paper":
                            console.log('You Tied! Paper ties with Paper');
                            outcome = "tied";
                            return outcome;
                            break;
                        case "scissors":
                            console.log('You Win! Scissors beats Paper');
                            outcome = "win";
                            return outcome;
                            break;
                        default: 
                            outcome = "invalid";
                            return outcome;
                            break;
                    }
                }
                else {
                    switch (playerChoice) {
                        case "rock": 
                            console.log('You Win! Rock beats Scissors');
                            outcome = "win";
                            return outcome;
                            break;
                        case "paper":
                            console.log('You Lose! Scissors beats Paper');
                            outcome = "lose";
                            return outcome;
                            break;
                        case "scissors":
                            console.log('You Tied! Scissors ties with Scissors');
                            outcome = "tied";
                            return outcome;
                            break;
                        default: 
                            outcome = "invalid";
                            return outcome;
                            break;  
                    }
                }
            }
        }

        // Make function scoreKeeping.
        function scoreKeeping(condition, playerScore, computerScore, i){
            if (condition == "win") {
                playerScore++;
            }
            else if (condition == "lose") {
                computerScore++;
            }
            else if (condition == "tied") {
                playerScore++;
                computerScore++;
            }
            else {
                i--;
            }   

            if (i == 4) {
                if (playerScore > computerScore) {
                    console.log('You have won the match.');
                }
                else if (playerScore < computerScore) {
                    console.log('You have lost the match.');
                }
                else {
                    console.log('There is a match tie.');
                }
            }
        }

        //3a. Make function playGame().
        function playGame() {
            let playerScore = 0;
            let computerScore = 0;

            for (let i = 0; i < 5; i++) {
                //3b. Use prompt() to get input. 
                let playerSelection = prompt("Type rock, paper, or scissors: ");
                if (playerSelection == "") {
                    i--;
                }
                else if (playerSelection == null) {
                    break;
                }
                let playerChoice = playerSelection.toLowerCase();

                //3c. Use previous function inside this to play 5 rounds keeping score and reporting status at end.
                getComputerChoice();
                singleRound(playerChoice, computerSelection);
                scoreKeeping(singleRound(playerChoice, computerSelection), playerScore, computerScore, i);
            }
        }

        // Execution.
        playGame();
    </script>
</body>
</html>